<!DOCTYPE html>
<html>
<head>
  <title>Redimensionar imagem com Fabric.js</title>
  <style>
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
  }
  body {
    display: flex;
    align-items: center;
    justify-content: center;
   
  }
  .box_editavel{
    display: block;
    min-width: 600px;
    min-height: 800px;
  }
  .box img{
    width: 100%;
    position: fixed;
    top:0;
    left: 0;
  }
  .box{
    min-width: 600px;
    min-height: 800px;
  }

  </style>
  <script src="fabric.min.js"></script>
</head>
<body>
    <div class="box">
        <img src="indoor-shot-positive-friendly-young-mixed-race-female-glasses-pointing.jpg">
        <div class="box_editavel">
            <canvas id="canvas"></canvas>
        </div>
    </div>
    
  <script>
    // Cria o objeto canvas do Fabric.js
    var canvas = new fabric.Canvas('canvas');

    // Carrega a imagem
    fabric.Image.fromURL('python.png', function(img) {
      // Adiciona a imagem ao canvas
      // Redimensiona a imagem
      img.scaleToWidth(500);
      img.scaleToHeight(300);
      img.hasBorders = false;

      img.set({
    transparentCorners: false,
    cornerColor: 'white',
    cornerStrokeColor: 'rgba(0,0,0,0.2)',
    borderColor: 'red',
    cornerSize: 12,
    padding: 10,
    cornerStyle: 'circle',
    borderDashArray: [3, 3]
  });
  
      canvas.add(img);

    // Definir a imagem de sobreposição no canvas
    canvas.setOverlayImage(img, canvas.renderAll.bind(canvas));


      function exibirPropriedades() {
        var selectedObject = canvas.getActiveObject();
        if (selectedObject && selectedObject.type === 'image') {
          console.log('Largura da imagem:', selectedObject.width);
          console.log('Altura da imagem:', selectedObject.height);
          console.log('Posição X da imagem:', selectedObject.left);
          console.log('Posição Y da imagem:', selectedObject.top);
        }
      }

      // Evento chamado após cada modificação no canvas
      canvas.on('object:modified', exibirPropriedades);

    });
   

    function resizeCanvas() {
      var divWidth = document.body.clientWidth;
      var divHeight = document.body.clientHeight;

      canvas.setWidth(divWidth);
      canvas.setHeight(divHeight);
    }


    resizeCanvas();


   
  </script>
</body>
</html>
